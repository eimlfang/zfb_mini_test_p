(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/shop/shop_list"],{5661:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={components:{uniLoadMore:function(){i.e("components/uni-load-more").then(function(){return resolve(i("78e2"))}.bind(null,i)).catch(i.oe)}},data:function(){return{triggered:!0,phoneHeight:0,scrollviewHigh:0,state_active:-1,no_more:!1,loading:!0,last_page:0,page:1,list_rows:10,topRefresh:!1,type_active:"all",price_top:!1,shopData:[],searchtxt:"",keyWord:"",stateTab:!1}},computed:{loadingType:function(){return this.loading?1:0!=this.shopData.length&&this.no_more?2:0}},mounted:function(){this.init(),this._freshing=!1,this.restoreData(),this.getData()},methods:{init:function(){var e=this;t.getSystemInfo({success:function(i){e.phoneHeight=i.windowHeight;var o=t.createSelectorQuery().in(e).select(".top-box");o.boundingClientRect((function(t){console.log(t);var i=e.phoneHeight-t.height;e.scrollviewHigh=i})).exec()}})},restoreData:function(){this.shopData=[],this.page=1,this.no_more=!1,this.loading=!0,this.category_id=0,this.searchtxt="",this.sortType="",this.sortPrice=0},tabTypeFunc:function(t){this.shopData=[],this.page=1,this.no_more=!1,this.loading=!0,this.type_active=t,this.getData()},getData:function(){var t=this,e=t.page,i=t.list_rows;t.loading=!0,t._post("supplier.index/list",{page:e||1,list_rows:i,sortType:t.type_active,name:t.keyWord},(function(e){t.loading=!1,t.last_page=e.data.list.last_page,t.shopData=t.shopData.concat(e.data.list.data),e.data.list.last_page<=1?t.no_more=!0:t.no_more=!1}))},onRefresh:function(){var t=this;this._freshing||(this._freshing=!0,this.restoreData(),this.getData(),setTimeout((function(){t.triggered=!1,t._freshing=!1}),2e3))},onRestore:function(){this.triggered="restore"},search:function(){this.keyWord=this.searchtxt,this.restoreData(),this.getData()},scrolltolowerFunc:function(){this.no_more||(this.page++,this.page<=this.last_page?this.getData():this.no_more=!0)},goto_shop:function(t){this.gotoPage("/pages/shop/shop?shop_supplier_id="+t)},goto_product:function(t){this.gotoPage("/#/pages/product/detail/detail?product_id="+t)}}};e.default=o}).call(this,i("c11b")["default"])},"5ee8":function(t,e,i){},8109:function(t,e,i){"use strict";(function(t){var e=i("4ea4");i("a8db"),i("33db"),i("5c17");e(i("66fd"));var o=e(i("88d3"));my.__webpack_require_UNI_MP_PLUGIN__=i,t(o.default)}).call(this,i("c11b")["createPage"])},"88d3":function(t,e,i){"use strict";i.r(e);var o=i("e11f"),n=i("9587");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);i("c019");var s=i("f0c5"),r=Object(s["a"])(n["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);e["default"]=r.exports},9587:function(t,e,i){"use strict";i.r(e);var o=i("5661"),n=i.n(o);for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);e["default"]=n.a},c019:function(t,e,i){"use strict";var o=i("5ee8"),n=i.n(o);n.a},e11f:function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var o=function(){var t=this.$createElement,e=(this._self._c,this.theme()||""),i=this.theme();this.$mp.data=Object.assign({},{$root:{m0:e,m1:i}})},n=[]}},[["8109","common/runtime","common/vendor"]]]);