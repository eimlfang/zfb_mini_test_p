(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/user/my_shop/my_shop_order"],{"0e4b":function(t,e,a){"use strict";a.r(e);var i=a("9920"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"49ef":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this.$createElement;this._self._c},n=[]},"6ca8":function(t,e,a){"use strict";var i=a("acf3"),n=a.n(i);n.a},8395:function(t,e,a){"use strict";(function(t){var e=a("4ea4");a("a8db"),a("33db"),a("5c17");e(a("66fd"));var i=e(a("afd0"));my.__webpack_require_UNI_MP_PLUGIN__=a,t(i.default)}).call(this,a("c11b")["createPage"])},9920:function(t,e,a){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={components:{uniLoadMore:function(){a.e("components/uni-load-more").then(function(){return resolve(a("78e2"))}.bind(null,a)).catch(a.oe)},Popup:function(){a.e("components/uni-popup").then(function(){return resolve(a("743f"))}.bind(null,a)).catch(a.oe)}},data:function(){return{phoneHeight:0,scrollviewHigh:0,state_active:0,topRefresh:!1,listData:[],dataType:"all",order_id:0,last_page:0,page:1,list_rows:10,no_more:!1,loading:!0,shop_supplier_id:"",isClose:!1,cancel_remark:"",order_no:""}},computed:{loadingType:function(){return this.loading?1:0!=this.listData.length&&this.no_more?2:0}},onLoad:function(t){this.shop_supplier_id=t.shop_supplier_id,"undefined"!=typeof t.dataType&&(this.dataType=t.dataType),"payment"==this.dataType?this.state_active=1:"delivery"==this.dataType?this.state_active=2:"received"==this.dataType&&(this.state_active=3)},mounted:function(){this.init()},onShow:function(){this.initData(),this.getData()},methods:{init:function(){var e=this;t.getSystemInfo({success:function(a){e.phoneHeight=a.windowHeight;var i=t.createSelectorQuery().select(".top-tabbar");i.boundingClientRect((function(t){var a=e.phoneHeight-t.height;e.scrollviewHigh=a})).exec()}})},initData:function(){this.page=1,this.loading=!0,this.listData=[],this.no_more=!1},stateFunc:function(t){if(this.state_active!=t){switch(this.page=1,this.loading=!0,this.state_active=t,t){case 0:this.listData=[],this.dataType="all";break;case 1:this.listData=[],this.dataType="payment";break;case 2:this.listData=[],this.dataType="delivery";break;case 3:this.listData=[],this.dataType="received";break;case 4:this.listData=[],this.dataType="comment";break}this.getData()}},scrolltolowerFunc:function(){this.no_more||(this.page++,this.page<=this.last_page?this.getData():this.no_more=!0)},getData:function(){var t=this;t.loading=!0;var e=t.dataType;t._get("supplier.order/index",{shop_supplier_id:t.shop_supplier_id,dataType:e,page:t.page,list_rows:t.list_rows,pay_source:t.getPlatform()},(function(e){t.loading=!1,t.listData=t.listData.concat(e.data.list.data),t.last_page=e.data.list.last_page,e.data.list.last_page<=1?t.no_more=!0:t.no_more=!1}))},jumpPage:function(t){this.gotoPage("/pages/order/order-detail?source=supplier&order_id="+t)},openClose:function(t){this.isClose=!0,this.order_no=t},sendClose:function(){var e=this,a=e.order_no;i.showModal({title:"提示",content:"您确定要取消订单吗?",success:function(i){i.confirm&&(e.isClose=!1,t.showLoading({title:"正在处理"}),e._get("supplier.order/orderCancel",{order_no:a,cancel_remark:e.cancel_remark},(function(a){t.hideLoading(),t.showToast({title:"操作成功",duration:2e3,icon:"success"}),e.listData=[],e.getData()})))}})},hideClose:function(t){this.isClose=!1}}};e.default=n}).call(this,a("c11b")["default"],a("c11b")["default"])},acf3:function(t,e,a){},afd0:function(t,e,a){"use strict";a.r(e);var i=a("49ef"),n=a("0e4b");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("6ca8");var s=a("f0c5"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=r.exports}},[["8395","common/runtime","common/vendor"]]]);