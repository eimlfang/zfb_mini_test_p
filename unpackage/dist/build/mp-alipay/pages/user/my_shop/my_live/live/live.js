(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/user/my_shop/my_live/live/live"],{"07f0":function(t,e,n){},3377:function(t,e,n){"use strict";n.r(e);var i=n("8cc0"),a=n("6464");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("4902");var u=n("f0c5"),c=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"917c2b52",null,!1,i["a"],void 0);e["default"]=c.exports},"381f":function(t,e,n){"use strict";(function(t,i){var a=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n("6fd1")),u={components:{Upload:o.default},data:function(){return{form:{name:"",share_img_id:null,share_img_path:""},isUpload:!1,file_type:null,cur_image:null,categorylist:[],category:"",categorytype:[],index:0}},mounted:function(){},methods:{getCategory:function(){var t=this;t._post("plus.live.RoomApply/category",{},(function(e){e.data.list.forEach((function(e,n){t.categorylist.push(e.name)})),t.categorytype=e.data.list}))},bindTextAreaBlur:function(t){this.form.name=t},formSubmit:function(e){var n=this;""!=n.form.name?/[<>*{}()^%$#@!~&= ]/.test(n.form.name)?t.showModal({title:"提示",content:"名称不能为空或包含特殊字符",showCancel:!1}):null!=n.form.share_img_id?n._post("plus.live.RoomApply/addlive",n.form,(function(t){i.showToast({title:"创建成功"});var e="/pagesLive/live/live?type=create&room_id="+t.data.room_id;n.gotoPage(e)})):t.showModal({title:"提示",content:"请上传直播间分享图",showCancel:!1}):t.showModal({title:"提示",content:"请输入直播间名称",showCancel:!1})},openUpload:function(t){this.cur_imagetype=t,this.file_type="image",this.isUpload=!0},getImgsFunc:function(t){t&&"undefined"!=typeof t&&null!=this.cur_imagetype&&(this.form[this.cur_imagetype+"id"]=t[0]["file_id"],this.form[this.cur_imagetype+"path"]=t[0]["file_path"],this.cur_imagetype=null),this.isUpload=!1},bindPickerChange:function(t){this.index=t.target.value,this.category=this.categorylist[this.index],this.form.category_id=this.categorytype[this.index].category_id}}};e.default=u}).call(this,n("c11b")["default"],n("c11b")["default"])},"3b6a":function(t,e,n){"use strict";(function(t){var e=n("4ea4");n("a8db"),n("33db"),n("5c17");e(n("66fd"));var i=e(n("3377"));my.__webpack_require_UNI_MP_PLUGIN__=n,t(i.default)}).call(this,n("c11b")["createPage"])},4902:function(t,e,n){"use strict";var i=n("07f0"),a=n.n(i);a.a},"5a24":function(t,e,n){"use strict";n.r(e);var i=n("a2ef"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},6464:function(t,e,n){"use strict";n.r(e);var i=n("381f"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"6fd1":function(t,e,n){"use strict";n.r(e);var i=n("7de8"),a=n("5a24");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var u=n("f0c5"),c=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=c.exports},"7de8":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this.$createElement;this._self._c},a=[]},"8cc0":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this.$createElement;this._self._c},a=[]},a2ef:function(t,e,n){"use strict";(function(t){var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("7037")),o={data:function(){return{imageList:[]}},props:["num"],onLoad:function(){},mounted:function(){this.chooseImageFunc()},methods:{chooseImageFunc:function(){var e=this;t.chooseImage({count:e.num||9,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){e.uploadFile(t.tempFilePaths)},fail:function(t){e.$emit("getImgs",null)},complete:function(t){}})},uploadFile:function(e){var n=this,i=0,o=e.length,u={token:t.getStorageSync("token"),app_id:n.getAppId()};t.showLoading({title:"上传中"}),e.forEach((function(e,c){t.uploadFile({url:n.websiteUrl+"/index.php?s=/api/file.upload/image",filePath:e,name:"iFile",formData:u,success:function(t){var e="object"===(0,a.default)(t.data)?t.data:JSON.parse(t.data);1===e.code&&n.imageList.push(e.data)},complete:function(){i++,o===i&&(t.hideLoading(),n.$emit("getImgs",n.imageList))}})}))}}};e.default=o}).call(this,n("c11b")["default"])}},[["3b6a","common/runtime","common/vendor"]]]);