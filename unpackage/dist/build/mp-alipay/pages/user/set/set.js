(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/user/set/set"],{"08e3":function(n,e,t){},"4a35":function(n,e,t){"use strict";t.d(e,"b",(function(){return o})),t.d(e,"c",(function(){return i})),t.d(e,"a",(function(){}));var o=function(){var n=this.$createElement,e=(this._self._c,this.theme()||""),t=this.theme();this.$mp.data=Object.assign({},{$root:{m0:e,m1:t}})},i=[]},5894:function(n,e,t){"use strict";(function(n){var e=t("4ea4");t("a8db"),t("33db"),t("5c17");e(t("66fd"));var o=e(t("ef4f"));my.__webpack_require_UNI_MP_PLUGIN__=t,n(o.default)}).call(this,t("c11b")["createPage"])},"5f54":function(n,e,t){"use strict";var o=t("08e3"),i=t.n(o);i.a},c19f:function(n,e,t){"use strict";t.r(e);var o=t("e136"),i=t.n(o);for(var u in o)["default"].indexOf(u)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(u);e["default"]=i.a},e136:function(n,e,t){"use strict";(function(n){var o=t("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(t("067d")),u={components:{Upload:function(){t.e("components/upload/uploadOne").then(function(){return resolve(t("0dc7"))}.bind(null,t)).catch(t.oe)},Popup:function(){t.e("components/uni-popup").then(function(){return resolve(t("743f"))}.bind(null,t)).catch(t.oe)}},data:function(){return{userInfo:{},isUpload:!1,isPopup:!1,newName:"",type:"",version_no:"",baseurl:""}},onLoad:function(){this.baseurl=i.default.app_url},onShow:function(){this.getData(),this.isUpload=!1},methods:{getData:function(){var e=this;n.showLoading({title:"加载中"}),e._get("user.index/setting",{},(function(t){e.userInfo=t.data.userInfo,console.log("======",t.data.userInfo),n.hideLoading()}))},onAuthError:function(){n.showModal({title:"提示",content:"取消授权，可能导致服务无法使用，或者页面显示不完整",success:function(n){n.confirm?console.log("我知道了"):console.log("重新授权")}})},onGetPhoneAuth:function(){my.getPhoneNumber({success:function(n){var e=n.response;console.log(JSON.parse(e))},fail:function(n){console.log(n),console.log("getPhoneNumber_fail")}})},gotoBind:function(){},onGetAuthorize:function(){my.getPhoneNumber({success:function(n){n.response;console.log(n)},fail:function(n){console.log(n),console.log("getPhoneNumber_fail")}})},gotoBindUser:function(){this.gotoPage("/pages/user/modify-phone/userAuther")},logout:function(){n.removeStorageSync("token"),n.removeStorageSync("user_id"),this.gotoPage("/pages/index/index")},changeName:function(n){"mobile"==n&&(this.oldmobile=this.userInfo.mobile),this.type=n,this.newName=this.userInfo[n],this.isPopup=!0},hidePopupFunc:function(){this.newName="",this.isPopup=!1},changeinput:function(n){this.newName=n.target.value},clearName:function(){this.newName=""},subName:function(){this.loading||(this.userInfo[this.type]=this.newName,this.update())},changeAvatarUrl:function(){this.isUpload=!0},getImgsFunc:function(n){if(n&&"undefined"!=typeof n){this.userInfo.avatarUrl=n[0].file_path,this.update(),this.isUpload=!1}},update:function(){var e=this;if(!e.loading){n.showLoading({title:"加载中"});var t=e.userInfo;e.loading=!0,e._post("user.user/updateInfo",t,(function(t){e.showSuccess("修改成功",(function(){e.loading=!1,e.isPopup=!1,n.hideLoading(),e.getData()}),(function(t){n.hideLoading(),e.loading=!1,e.isPopup=!1}))}))}}}};e.default=u}).call(this,t("c11b")["default"])},ef4f:function(n,e,t){"use strict";t.r(e);var o=t("4a35"),i=t("c19f");for(var u in i)["default"].indexOf(u)<0&&function(n){t.d(e,n,(function(){return i[n]}))}(u);t("5f54");var s=t("f0c5"),a=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);e["default"]=a.exports}},[["5894","common/runtime","common/vendor"]]]);